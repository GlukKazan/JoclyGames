- Опции ZRF должны поставляться в отдельных js-файлах
  - zrf-common.js - ядро
  - zrf-flags.js - флаги, позиционные флаги, атрибуты
  - zrf-invariants.js - приоритеты, шах и мат, правило большинства
  - zrf-specific.js - семантика перемещения фигуры (фигура на исходной позиции, пока ход не выполнен)
  - zrf-cascade.js - множественное перемещение фигур
- Все js и xslt-файлы для двух вариантов: отладочного и минифицированного
  - убираются пробелы
  - вместо полных имён методов используются аббревиатуры
  - не создаются именованные константы для позиций, направлений, зон и пр.
- java-приложение создаёт промежуточное xml-описание
  - выполняя наследование для каждого варианта в zrf
  - полностью раскрывая все макросы
  - автоматически выделяя параметризованные (направления) шаблоны описаний ходов
  - преобразуя grid-ы и направления в индивидуальные описания позиций и связей
- xslt-преобразование создаёт
  - json-описание или html-файл (в том числе, управляющее подключением опций)
  - js-описание модели (отладочное или минифицированное)
  - js-описание представления (отладочное или минифицированное)
- Для доски строится граф направлений
  - Все позиции - целые индексы в линейном массиве
  - Направления - целые индексы
  - Связи (от каждой позиции в массиве направлений) - целые смещения или null
- Описания зон (json-объекты)
  - Привязаны к одному или несколким игрокам
  - Содержат массив позиций (целых чисел)
- Описания симметрий
  - Привязаны к игрокам
  - Хэш преобразующий одно направление в другое (целые числа)
- ZrfMoveGenerator
  - Результат js-кодогенерации по параметризованному шаблону хода
  - На входе фигура (её начальная позиция, возможно off - null), параметры
  - На выходе сгенерированный ход
- ZrfMove
  - Может быть применён к позиции
  - Может быть построен по zsg или pjn
  - Может вернуть zsg или pjn
  - Хранит все промежуточные изменения (сначала опрашивается ход, потом доска)
    - Текущая позиция
    - Созданные и удалённые фигуры
    - Изменения атрибутов фигур, на текущем ходу
    - Флаги
    - Позиционные флаги
